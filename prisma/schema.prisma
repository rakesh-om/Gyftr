generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Setting {
  id                 Int       @id @default(autoincrement())
  mid                String
  created_at         DateTime?
  accessToken        String?    
  shop               String    @unique
  brand_name         String
  enc_dec_api_iv_key String
  enc_dec_api_key    String
  hash_salt          String
  password           String
  reverse_salt       String
  shopid             BigInt?
  userId             String
  user_name          String
}


model Cartdetails {
  id                Int      @id @default(autoincrement())
  total             String?  @db.VarChar(100)
  porderid          String?  @db.VarChar(100)
  shopid            String?  @db.VarChar(255)
  tid               String?  @db.VarChar(100)
  mid               String?  @db.VarChar(100)
  baseUrl           String?  @db.VarChar(100)
  CouponCode        String?  @db.VarChar(100)
  status            String?  @db.VarChar(100)
  mobile            String?  @db.VarChar(100)
  callback_received Boolean? @default(false)
  Remark            String?  @db.VarChar(255)
  Refund_Status     Boolean? @default(false)
  createdAt         DateTime @db.DateTime(0)
  updatedAt         DateTime @db.DateTime(0)
}

model GyftrRedemptions {
  id               Int       @id @default(autoincrement())
  user_id          BigInt?
  shopify_order_id BigInt?
  gytr_order_id    String?   @db.VarChar(255)
  coupon_code      String?   @db.VarChar(100)
  coupon_id        String?   @db.VarChar(100)
  amount           String?   @db.VarChar(100)
  mid              String?   @db.VarChar(100)
  requestid        String?   @db.VarChar(100)
  redeemed_at      DateTime? @db.DateTime(0)
  refunded         Boolean?  @default(false)
}

model Refund {
  id                 Int      @id @default(autoincrement())
  shop_order_id      String?  @db.VarChar(100)
  item_total         Int?
  refund_webhook_req String?  @db.LongText
  order_txn_id       String?  @db.VarChar(100)
  refund_amount      String?  @db.VarChar(100)
  refund_txn_id      String?  @db.VarChar(100)
  shop_name          String?  @db.VarChar(100)
  shop_id            String?  @db.VarChar(100)
  refunded           Boolean? @default(false)
}

model Webhook {
  id               Int      @id @default(autoincrement())
  webhookreq       String?  @db.Text
  shop_name        String?  @db.VarChar(100)
  shop_id          String?  @db.VarChar(100)
  coupon_code      String?  @db.VarChar(255)
  use_gyftr        String?  @db.VarChar(255)
  order_id         BigInt?
  update_attribute Boolean? @default(false)
  createdAt        DateTime @db.DateTime(0)
  updatedAt        DateTime @db.DateTime(0)
}

model shopify_sessions {
  id               String   @id @db.VarChar(255)
  shop             String   @unique @db.VarChar(255)  
  state            String   @db.VarChar(255)
  isOnline         Int      @db.TinyInt
  scope            String?  @db.VarChar(1024)
  expires          Int?
  onlineAccessInfo String?  @db.VarChar(255)
  accessToken      String?  @db.VarChar(255)
  onboarded        Boolean? @default(false)
    storefront_access_token String? @db.VarChar(255) 
}

model shopify_sessions_migrations {
  migration_name String @id @db.VarChar(255)
}
